
CREATE TABLE racas (
    id_raca INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(50) NOT NULL,
    descricao TEXT,
    modificador_forca INT DEFAULT 0,
    modificador_destreza INT DEFAULT 0,
    modificador_constituicao INT DEFAULT 0,
    modificador_inteligencia INT DEFAULT 0,
    modificador_sabedoria INT DEFAULT 0,
    modificador_carisma INT DEFAULT 0
);


CREATE TABLE classes (
    id_classe INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(50) NOT NULL,
    descricao TEXT,
    dado_vida VARCHAR(5) NOT NULL,
    pericias TEXT
);


CREATE TABLE habilidades (
    id_habilidade INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(50) NOT NULL,
    descricao TEXT
);


CREATE TABLE equipamentos (
    id_equipamento INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(50) NOT NULL,
    tipo VARCHAR(30),
    descricao TEXT,
    bonus_ataque INT DEFAULT 0,
    bonus_defesa INT DEFAULT 0
);


CREATE TABLE personagens (
    id_personagem INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(50) NOT NULL,
    nivel INT DEFAULT 1,
    forca INT,
    destreza INT,
    constituicao INT,
    inteligencia INT,
    sabedoria INT,
    carisma INT,
    id_raca INT,
    id_classe INT,
    FOREIGN KEY (id_raca) REFERENCES racas(id_raca),
    FOREIGN KEY (id_classe) REFERENCES classes(id_classe)
);


CREATE TABLE personagem_habilidade (
    id_personagem INT,
    id_habilidade INT,
    PRIMARY KEY (id_personagem, id_habilidade),
    FOREIGN KEY (id_personagem) REFERENCES personagens(id_personagem)
        ON DELETE CASCADE,
    FOREIGN KEY (id_habilidade) REFERENCES habilidades(id_habilidade)
        ON DELETE CASCADE
);


CREATE TABLE personagem_equipamento (
    id_personagem INT,
    id_equipamento INT,
    PRIMARY KEY (id_personagem, id_equipamento),
    FOREIGN KEY (id_personagem) REFERENCES personagens(id_personagem)
        ON DELETE CASCADE,
    FOREIGN KEY (id_equipamento) REFERENCES equipamentos(id_equipamento)
        ON DELETE CASCADE
);
